{% extends 'base.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'css/live.css' %}">
    <link rel="stylesheet" href="{% static 'css/btn.css' %}">
    <link rel="stylesheet" href="{% static 'css/animations.css' %}">
{% endblock %}

{% block title %}Live voting{% endblock %}

{% block content %}
<div id="app">
    <header>
        <div class="container cover" id="participantImg">
            <div class="container gapSmall spacing textCon gradient">
                <div class="wrapper gapSmall spacing">
                    <p class="secondary shadow" id="current_show_label">{{ show }}</p>
                </div>

                <div class="container gapSmall">
                    <div class="wrapper gapSmall spacing coverBody">
                        <h2 class="shadow" id="country_name">Country</h2>
                        <img class="heart" id="heartImg" src="{% static 'img/hearts/Switzerland.svg' %}" alt="flag">
                    </div>
        
                    <div class="wrapper gapSmall spacing">
                        <p class="secondary shadow" id="artist_name"></p>
                        <p class="secondary shadow" id="song_name"></p>
                    </div>
                </div>
            </div>
        </div>

        <nav class="container gapSmall">
            <button class="navBtn" id="C_Previous">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff"><path d="M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"/></svg>
            </button>
            <button class="navBtn hidden" id="C_Live">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff"><path d="M148-560q0 55 18.5 109.5T221-350q9 11 9 25.5T220-300q-10 10-24.5 9T172-303q-46-57-69-122T80-560q0-70 23-135t69-122q9-11 23.5-12t24.5 9q10 10 10 24.5t-9 25.5q-36 46-54.5 100.5T148-560Zm132 0q0 29 9 59t29 56q8 11 8 25t-10 24q-10 10-24 9.5T269-398q-28-36-42.5-77.5T212-560q0-43 14.5-84.5T269-722q9-11 23-11.5t24 9.5q10 10 9.5 24t-8.5 25q-19 25-28 54.5t-9 60.5Zm107 400-18 54q-4 11-14 18.5T333-80q-20 0-31-15.5t-5-34.5l118-355q-16-14-25.5-33t-9.5-42q0-42 29-71t71-29q42 0 71 29t29 71q0 23-9.5 42T545-485l118 355q6 18-4.5 34T628-80q-12 0-22.5-7T591-106l-17-54H387Zm26-80h134l-67-200-67 200Zm267-320q0-29-9-59t-29-56q-8-11-8-25t10-24q10-10 24.5-9.5T691-722q27 36 41 77.5t16 84.5q0 43-14.5 84.5T691-398q-9 11-23 11.5t-24-9.5q-10-10-9.5-24t8.5-25q19-25 28-54.5t9-60.5Zm132 0q0-55-18.5-109.5T739-770q-9-11-9-25.5t10-24.5q10-10 24.5-9t23.5 12q46 57 69 122t23 135q0 70-21.5 135T789-303q-10 11-24 12.5t-25-9.5q-10-10-10-24.5t9-25.5q36-46 54.5-100.5T812-560Z"/></svg>
            </button>
            <button class="navBtn" id="C_Next">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff"><path d="M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"/></svg>
            </button>
        </nav>
    </header>

    <div class="wrapper scoreboard center" id="online_list_wrapper">
        <div class="wrapper center" id="online_list">
            <p class="playerVote" id="online_list_dummy">No other users connected</p>
        </div>
    </div>
    
    <div class="container content">
        <div class="container gapSmall countdown hidden" id="countdown">
            <div class="container gapSmall">
                <h2><span id="hours">99</span>:<span id="minutes">99</span>:<span id="seconds">99</span></h2>
                <p class="secondary">Until live starts</p>
            </div>
        </div>

        <div class="wrapper gapSmall forms hidden" id="voting">
            {% if show.name == "GF" %}
                <section class="gapSmall" action="" id="voteCriteria1">
                    <div class="container gapSmall spacing textCon">
                        <p class="secondary">1 of 3</p>
                        <h2>Musical<br>Quality</h2>
                        <p class="secondary">Song, vocal, melody<br>& lyrics</p>
                    </div>
    
                    <div class="btnGrid gapSmall" data-criteria="2">
                        <button class="voteBtn btn1" data-grade="1">1</button>
                        <button class="voteBtn btn2" data-grade="2">2</button>
                        <button class="voteBtn btn3" data-grade="3">3</button>
                        <button class="voteBtn btn4" data-grade="4">4</button>
                        <button class="voteBtn btn5" data-grade="5">5</button>
                        <button class="voteBtn btn6" data-grade="6">6</button>
                        <button class="voteBtn btn7" data-grade="7">7</button>
                        <button class="voteBtn btn8" data-grade="8">8</button>
                        <button class="voteBtn btn10" data-grade="10">10</button>
                        <button class="voteBtn btn12" data-grade="12">12</button>
                    </div>
                </section>
    
                <section class="gapSmall" action="" id="voteCriteria2">
                    <div class="container gapSmall spacing textCon">
                        <p class="secondary">2 of 3</p>
                        <h2>Stage<br>Performance</h2>
                        <p class="secondary">Artistâ€™s charisma<br>& delivery</p>
                    </div>
    
                    <div class="btnGrid gapSmall" data-criteria="3">
                        <button class="voteBtn btn1" data-grade="1">1</button>
                        <button class="voteBtn btn2" data-grade="2">2</button>
                        <button class="voteBtn btn3" data-grade="3">3</button>
                        <button class="voteBtn btn4" data-grade="4">4</button>
                        <button class="voteBtn btn5" data-grade="5">5</button>
                        <button class="voteBtn btn6" data-grade="6">6</button>
                        <button class="voteBtn btn7" data-grade="7">7</button>
                        <button class="voteBtn btn8" data-grade="8">8</button>
                        <button class="voteBtn btn10" data-grade="10">10</button>
                        <button class="voteBtn btn12" data-grade="12">12</button>
                    </div>
                </section>
    
                <section class="gapSmall" action="" id="voteCriteria3">
                    <div class="container gapSmall spacing textCon">
                        <p class="secondary">3 of 3</p>
                        <h2>Visual<br>Presentation</h2>
                        <p class="secondary">Stage, lighting, costumes<br>& graphics</p>
                    </div>
                    
                    <div class="btnGrid gapSmall" data-criteria="4">
                        <button class="voteBtn btn1" data-grade="1">1</button>
                        <button class="voteBtn btn2" data-grade="2">2</button>
                        <button class="voteBtn btn3" data-grade="3">3</button>
                        <button class="voteBtn btn4" data-grade="4">4</button>
                        <button class="voteBtn btn5" data-grade="5">5</button>
                        <button class="voteBtn btn6" data-grade="6">6</button>
                        <button class="voteBtn btn7" data-grade="7">7</button>
                        <button class="voteBtn btn8" data-grade="8">8</button>
                        <button class="voteBtn btn10" data-grade="10">10</button>
                        <button class="voteBtn btn12" data-grade="12">12</button>
                    </div>
                </section>
            {% else %}
                <section class="container gapLarge" action="">
                    <div class="container gapSmall center">
                        <h2 class="title grow" id="SFVoteHeader">Will they qualify?</h2>
                        <p class="footnote" id="SFVoteText">Will the song make it to the grand final</p>
                    </div>
    
                    <div class="btnWrapper gapMedium" data-criteria="1" id="SFVoteContainer">
                        <button class="voteBtn btn12" data-grade="0">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#34C759"><path d="m382-339.38 345.54-345.54q8.92-8.93 20.88-9.12 11.96-.19 21.27 9.12 9.31 9.31 9.31 21.38 0 12.08-9.31 21.39l-362.38 363q-10.85 10.84-25.31 10.84-14.46 0-25.31-10.84l-167-167q-8.92-8.93-8.8-21.2.11-12.26 9.42-21.57t21.38-9.31q12.08 0 21.39 9.31L382-339.38Z"/></svg>
                        </button>
                        <button class="voteBtn btn1" data-grade="1">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FF3B30"><path d="M480-437.85 277.08-234.92q-8.31 8.3-20.89 8.5-12.57.19-21.27-8.5-8.69-8.7-8.69-21.08 0-12.38 8.69-21.08L437.85-480 234.92-682.92q-8.3-8.31-8.5-20.89-.19-12.57 8.5-21.27 8.7-8.69 21.08-8.69 12.38 0 21.08 8.69L480-522.15l202.92-202.93q8.31-8.3 20.89-8.5 12.57-.19 21.27 8.5 8.69 8.7 8.69 21.08 0 12.38-8.69 21.08L522.15-480l202.93 202.92q8.3 8.31 8.5 20.89.19 12.57-8.5 21.27-8.7 8.69-21.08 8.69-12.38 0-21.08-8.69L480-437.85Z"/></svg>
                        </button>
                    </div>
                </section>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
    <script id="performances_data" type="application/json">
        {{ performances_data|safe }}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script type="module" src="{% static 'socket.js' %}"></script>
    <script type="module" src="{% static 'tools_shared.js' %}"></script>
    <script type="module" src="{% static 'tools_player.js' %}"></script>
{% endblock %}
